---
layout: post
title:  "[AWS] 🔥 AWS로 페이스북 로그인 기능 만들기[2탄]"
date:   2019-11-04 18:34:10 +0700
categories: [AWS]
---

> AUSG 활동의 첫 시작으로 AWS의 amplify 서비스에서 제공하는 SNS 로그인 인증 기능을 만들어볼 것이다!

<br>

## ️️ 🔥 1탄에 이어서 6단계부터 시작!
---

<br>

- _6단계 - 사용자 풀 SDK 설치_

	Amazon Cognito는 상호 보완적인 두 개의 사용자 풀 SDK를 제공한다. 
	
	첫 번째 SDK는 __Amazon Cognito Identity SDK__ 로, 이 SDK를 설치하면 Amazon Cognito 사용자 풀 API의 사용자 관리 API, 인증 API 기능과 상호작용할 수 있게 된다. 
	
	두 번째 SDK는 __Amazon Cognito Auth SDK__ 로, 내장 호스팅 UI 웹 페이지를 활용하여 회원가입, 로그인, 로그아웃에 대한 웹 페이지를 사용할 수 있게 된다.

	이 두 개의 SDK를 설치해야 한다.

	JavaScript와 Android, iOS 용 SDK가 각각 분리되어 있어서 Android용 SDK를 설치하기로 했다.

	![17](https://user-images.githubusercontent.com/31889335/66572822-99474d80-ebac-11e9-9dca-6fea61109959.PNG)

	Android용 SDK 설치에 대한 방법으로 위 그림이 제시되어 있었는데 위 그림에서 링크로 연결된 3개의 설명서를 보고 두 개의 사용자 풀 SDK를 설치해보자.

	> --> [Android용 Identity SDK](https://github.com/aws-amplify/aws-sdk-android/tree/master/aws-android-sdk-cognitoidentityprovider)
	>
	> --> [Android용 Auth SDK](https://github.com/aws-amplify/aws-sdk-android/tree/master/aws-android-sdk-cognitoauth)
	>

	<br>

	- _Amazon Cognito Identity SDK 와 Auth SDK 설치하기_

		[Amazon Cognito 사용자 풀에 Android 앱 추가](https://docs.aws.amazon.com/ko_kr/cognito/latest/developerguide/setting-up-android-sdk.html) 이 링크에 들어가보면 안드로이드 스튜디오 프로젝트를 생성하여 Gradle 종속성을 추가하고, 네트워크 권한을 추가하라고 알려주고 있다.

		![18](https://user-images.githubusercontent.com/31889335/68120004-96d7d980-ff47-11e9-922d-f05e17693b98.PNG)

		일단, 위에서 알려준 SDK 링크인 [Android용 Identity SDK](https://github.com/aws-amplify/aws-sdk-android/tree/master/aws-android-sdk-cognitoidentityprovider) 를 들어가보면 

		![21](https://user-images.githubusercontent.com/31889335/68133490-d1e80600-ff63-11e9-99e8-8255e0900e18.PNG) 이와 같은 깃허브 링크가 나오는데 여기서 많이 삽질을 해버렸다.. 원래 안드로이드 스튜디오에 라이브러리를 추가할 때 implement로 추가하는데 왜 갑자기 github 폴더를 알려줄까? 저 github 링크를 보고 대체 뭘 해야 gradle에 종속성을 추가할 수 있다는 것일까? 
		
		jar 파일을 다운받아서 직접 안드로이드 프로젝트에 추가도 해보았다.. 

		결국, 한 2시간의 삽질 끝에 해결방법을 찾았는데 너무 어이가 없어서 화가 날 지경이였다! ㅋㅋㅋ

		위 그림에서 빨간 부분인 [aws-sdk-android라는 상위 폴더](https://github.com/aws-amplify/aws-sdk-android)로 이동해보면 aws-android-sdk 들이 쭉 모여있는 레포지토리가 나온다. 이 레포지토리의 리드미를 읽어보면 각 sdk 를 어떻게 추가해야 하는지 아~주 간단하고, 이미 알고있는 방법으로 알려주고 있다.

		![22](https://user-images.githubusercontent.com/31889335/68133817-6b171c80-ff64-11e9-89d1-40b474c16f43.PNG)

		즉, 위와 같은 방법으로 Android용 identity SDK와 Android용 Auth SDK를 추가해주면 된다.

		![23](https://user-images.githubusercontent.com/31889335/68133907-9c8fe800-ff64-11e9-94e0-c76faa7f1408.PNG)





