---
layout: post
title:  "[C++] ✨ C++ vector 스터디"
date:   2020-01-16 18:34:10 +0700
categories: [C++]
---

## ✨ vector 사용법 - 헤더파일 추가하기
---

> --> [참고한 C++ vector 레퍼런스 사이트](http://www.cplusplus.com/reference/vector/)

vector를 사용하기 위해서는 __헤더파일로 vector를 추가__ 해야 한다. 

__#include\<vector>__ 라고 추가하면 된다!

이 헤더파일안에는 vector 컨테이너 클래스가 정의되어 있다.

> --> [C++ 컨테이너에 대한 포스팅](https://choheeis.github.io/c++/2020/01/15/%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4%EC%8A%A4%ED%84%B0%EB%94%94.html)

<br>

## ✨ vector 클래스 템플릿에 대해서 자세히 알아보자!
---

> --> [참고한 C++ vector class template 레퍼런스 사이트](http://www.cplusplus.com/reference/vector/vector/)

- __vector란 무엇인가?__

    참고한 레퍼런스 사이트에 따르면 vector는 __"배열"__ 과 비슷한 것이며 __"배열의 크기를 변경할 수 있는"__ __"sequence container(선형 컨테이너 = 선형 저장소)"__ 라고 한다.

    vector는 배열과 비슷하게도, 자신이 저장하고 있는 객체들의 __저장 공간 위치를 연속적으로__ 가지고 있다. 객체들의 저장 공간 위치가 연속적이라는 것은 각 객체들에 접근할 때 pointer와 offset을 조작해서 쉽게 접근할 수 있다는 의미이다! 

    > offset은 다른 위치의 주소를 알기 위해 기준이 되는 주소값에 더하는 어떤 값. 

    하지만 vector는 배열과 다른 점이 있는데 바로 __"배열의 크기를 동적으로 변경할 수 있다는 점"__ 이다. 이 vector라는 컨테이너에 의해 vector 자신의 저장소가 자동으로 handling 된다. 

    <br>

- __vector가 동적으로 배열의 크기를 변경할 수 있게 되는 과정__

    내부적으로 vector클래스는 객체들을 저장하기 위해 동적으로 할당된 배열을 사용한다. 이 배열은 새로운 객체를 저장하기 위해 새로운 객체가 삽입될 때 배열의 크기가 늘려지도록 재할당되어야 한다. 

    __"재할당된다는 것은 기존의 배열과 다른 새로운 배열이 다시 할당된다는 것이고, 기존의 배열에 저장되어 있던 객체들을 전부 만들어진 새로운 배열로 이동시킨다는 의미이다."__

    즉, vector가 동적으로 배열의 크기를 변경할 수 있는 이유는 "재할당"되는 작업이 실행되기 때문이다.

    하지만 이렇게 다른 배열로 기존의 배열에 저장된 객체들이 옮겨지는 과정은 프로세스 관점에서 보았을 때 매우 비용이 큰 작업이다. 만약 vector가 하나의 객체가 추가될 때마다 재할당 작업을 수행한다면 정~말 비효율적인 컨테이너가 될 것이다.
    
    하지만 다행히도 vector 컨테이너는 하나의 객체가 추가될 때마다 재할당되는 방법을 사용하지 않는다.

    그럼 무슨 방법을 사용할까?

    <br>

    __vector는 처음 할당될 때 배열의 크기가 커질 가능성을 염두하고 약간의 여분을 가진 배열을 할당한다.__ 

    즉, vector는 실제로 객체들을 저장하는데 꼭 필요한 저장 공간보다 더 큰 저장 공간을 할당해놓는 것이다.

    따라서 vector의 실제 재할당은 객체의 삽입이 계속 되다가 실제 저장공간의 초과를 일으키는 삽입이 일어날 때에만 실행되게 된다. 

    <br>

## ✨ vector 컨테이너를 코드상에서 어떻게 사용해야 할까?
---

vector 컨테이너 클래스 안에 정의되어 있는 여러 멤버 함수들을 사용하면 된다!

> --> [vector 클래스의 여러가지 멤버 함수에 대해서는 이 사이트의 하단 부분 참고](http://www.cplusplus.com/reference/vector/vector/)


![03](https://user-images.githubusercontent.com/31889335/72500270-7dbca480-3877-11ea-8e09-7f94cd62882f.PNG)

vector를 생성하는 방법을 알기 위해서는 링크로 걸어놓은 사이트에서 위 그림을 찾은 후, (consturctor)을 클릭해서 보면 된다.

![04](https://user-images.githubusercontent.com/31889335/72500371-a6dd3500-3877-11ea-89e5-4919be2c5db6.PNG)

또, vector을 조작하는데 사용되는 여러 멤버 함수도 볼 수 있다.

![05](https://user-images.githubusercontent.com/31889335/72500372-a6dd3500-3877-11ea-95a5-593b2ea2e7cb.PNG)

좀 더 읽어보니 vector 컨테이너 안에 저장되는 객체의 타입이 bool 인 경우는 따로 설명된 부분이 있으니 읽어보는 것도 좋을 것 같다!

<br>



    





