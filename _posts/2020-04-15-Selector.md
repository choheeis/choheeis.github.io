---
layout: post
title:  "[안드로이드] ⭐️ Selector 만드는 나만의 라이브러리"
date:   2020-04-15 18:34:10 +0700
categories: [안드로이드]
---

## ⭐️ Selector를 이용해서 만들고 싶은 것?
---

![01](https://user-images.githubusercontent.com/31889335/79417268-7b8bf280-7fec-11ea-8e0d-df53fe8fe13c.PNG)

이렇게 별표를 누르면 노란색으로 표시되고 다시 한번 누르면 노란색 표시가 없어지는 뷰를 만들고 싶다!

어떻게 만들까??

<br>

## ⭐️ CheckedTextView 라는 것을 먼저 알아보자.
---

[CheckedTextView 공식 도큐먼트](https://developer.android.com/reference/android/widget/CheckedTextView) 을 읽어보면 CheckedTextView 라는 뷰가 어떤 것인지 알 수 있다.

일단 CheckedTextView는 

![02](https://user-images.githubusercontent.com/31889335/79417442-184e9000-7fed-11ea-832c-57fede7a3870.PNG)

위에서 알 수 있듯이 API level 1 안에 추가되어 있는 뷰이다.

즉, 엄청 오래 전부터 있던 뷰!

> API level 에 관련된 도큐먼트 --> [여기](https://developer.android.com/guide/topics/manifest/uses-sdk-element?hl=ko)

이 CheckedTextView 라는 뷰의 상속계층을 보면 TextView 클래스 하위에 존재하는 것을 알 수 있다.

즉, Check 관련 interface를 지원하는 확장된 TextView 클래스 라고 생각하면 된다!

그럼 이제 CheckedTextView를 가지고 위와 같은 별모양 체크 표시 마크를 만들어보자!

<br>

## ⭐️ CheckedTextView 사용하기
---

[CheckedTextView 공식 도큐먼트](https://developer.android.com/reference/android/widget/CheckedTextView) 를 읽어보면 CheckedTextView 라는 클래스 안에 어떤 메소드들이 있는지를 알 수 있다.

나와있는 public method들을 이용해서 코드상 CheckedTextView 뷰를 조작할 수 있다.

그리고 문서를 더 읽어보면 

![03](https://user-images.githubusercontent.com/31889335/79418501-c9eec080-7fef-11ea-89cf-00d5f94a4491.PNG)

이렇게 CheckedTextView를 xml 상에서 작성할 때 사용할 수 있는 속성들이 어떤 것들이 있는지 알 수 있다.

여러 속성들을 잘 읽어보고 필요한 속성을 적용시켜보자!

그리고 CheckedTextView는 TextView를 상속하고 있으므로 xml 상에서 TextView에서 사용되는 속성들을 사용할 수 있다.

![04](https://user-images.githubusercontent.com/31889335/79418862-92ccdf00-7ff0-11ea-83ea-e5322ba10f0e.PNG)

이런 xml 을 작성하면 다음과 같은 결과가 나오게 된다.

![05](https://user-images.githubusercontent.com/31889335/79418722-4a152600-7ff0-11ea-8434-4bdc9b4fb07f.PNG)

이러한 CheckedTextView가 

![01](https://user-images.githubusercontent.com/31889335/79417268-7b8bf280-7fec-11ea-8e0d-df53fe8fe13c.PNG)

요러한 뷰를 만들 때 사용하는 이유는 뭘까?

바로 다음에서 언급할 CheckedTextView 클래스가 가지고 있는 특별한 xml 속성과 public method 때문이다.

먼저, CheckedTextView 가 제공하는 xml 속성 중 

![06](https://user-images.githubusercontent.com/31889335/79418898-a710dc00-7ff0-11ea-99ec-a7b0114d376b.PNG)

위와 같은 속성이 있다.

이 속성을 사용하면 CheckedTextView 가 check가 된 상태인지 아닌지를 xml 상에서 초기화 해줄 수 있다!

일단 이런 속성이 있다는 것을 염두해두고, 아주 좋은 메소드 하나를 알아보자.

![07](https://user-images.githubusercontent.com/31889335/79419646-2c48c080-7ff2-11ea-9a03-f8ec51206ede.PNG)

바로 이 toggle() 이라는 함수이다.

이 함수는 CheckedTextView의 check 상태를 바꿔주는 함수이다.

따.라.서

맨 처음 CheckedTextView의 check 상태를 xml에서 정해준 후, 이 check 상태가 바껴야 할 때마다 코틀린 코드 상에서 toggle() 함수를 호출하면 되는 것이다!

이런 CheckedTextView의 사용법을 알았으면 이제 Selector에 대해서 알아보자~!

<br>

## ⭐️ Selector 가 무엇이냐!
---

![08](https://user-images.githubusercontent.com/31889335/79434340-33c79400-8009-11ea-929a-47dd78696dc3.PNG)

Selector라는 것을 알아보기 전에 위에서 보이는 목차를 봐보자.

android developers 사이트의 가이드 부분을 보면 이와 같은 목차로 가이드 문서가 나뉘어져 있는데 그 중 __앱 리소스(app resource)__ 라는 카테고리안에는 __드로어블(drawable)__ 이라는 분야가 있다.

__먼저 [앱 리소스(app resource)](https://developer.android.com/guide/topics/resources/providing-resources) 라는것이 뭘까?__

링크가 걸려있는 문서를 보면 리소스라는 것에 대한 설명이 있다.

안드로이드 개발에 있어서 __리소스(resource)__ 는 코드(자바 or 코틀린)에서 사용하는 추가적인 파일이나 정적인 콘텐츠를 의미한다.

예를 들어 비트맵, 레이아웃, 사용자 인터페이스 문자열 등이 리소스에 해당한다.

![09](https://user-images.githubusercontent.com/31889335/79442938-2532aa00-8014-11ea-9dd1-9f3d5b688010.PNG)

이렇게 안드로이드 프로젝트 구조를 보면 res라는 폴더에 속해있는 것들이 리소스이다!

__그렇다면 왜 리소스 폴더가 따로 있는 걸까?__

우리가 안드로이드 어플을 개발할 때 이미지나 문자열과 같은 리소스들은 항상 코드(자바 or 코틀린)에서 외부화(분리)해야 하기 때문이다.

그래야 리소스들을 코드와 독립적으로 유지관리할 수 있게 된다.

이렇게 외부화된 리소스들은 __클래스 R__ 이라는 클래스에서 발생하는 리소스 __id__ 로 엑세스할 수 있다!

<br>






