---
layout: post
title:  "운영체제1"
date:   2019-04-03 18:34:10 +0700
categories: [operating system]
---


> 서울과학기술대학교 3학년 교과과정으로 배운 "운영체제" 시험 공부 및 정리용 포스팅 😆
>
> _1강 - Introduction to Operating Systems_
>
> _🙋 1강에서 설명할 수 있어야 할 것들 🙋_
>
> - 운영체제의 역할
> - 컴퓨터 시스템의 동작 방식
> - 운영체제의 구성 요소

<br>


## ☺ '운영체제'를 '정의' 해보자!
--- 

-  운영체제를 정의하기 위해서는 기본적으로 컴퓨터 시스템은 4가지 구성요소로 이루어져 있다는 것을 알아야한다. 

	컴퓨터시스템(computer system)에는 4가지 구성요소가 있는데,

	- 최상위 요소 : __Users__ (말그대로 컴퓨터를 사용하는 유저)
	- 세번째 요소 : __Applications__ (워드 프로세서, 웹 브라우저, 게임 등등 유저가 사용하는 프로그램들. 유저가 필요할 때 설치하고 사용하지 않을 때는 지우기도 하는 것들)
	- 두번째 요소 : __Operating Systems__ (운영체제)
	- 최하위 요소 : __Hardware__ (컴퓨터 부품들, CPU, 메모리, 입출력장치 등)

		![운영체제1](https://user-images.githubusercontent.com/31889335/55477789-f50ca900-5654-11e9-8504-96a77e025d82.PNG)

		컴퓨터가 부팅되면 하드웨어 위에서 운영체제가 제일 먼저 가동되고 운영체제가 각 어플리케이션의 실행을 관리한다

		위 그림에서 볼 수 있듯이 유저는 운영체제에 직접 접근할 수 없다. 어플리케이션을 통해서 운영체제나 하드웨어에 접근할 수 있다.

		예 ) 유저는 프린트를 하려고 프린터를 실행시키고 싶으면 프린터 실행 프로그램(인쇄 프로그램)을 실행시켜야 하지!

- 운영체제가 뭘까?

	운영체제는 영어로 Operating system 이라고 하고 줄여서 OS라고 한다.

	운영체제는 위 그림에서 알 수 있듯이 컴퓨터 시스템의 4가지 구성요소 중 어플리케이션과 하드웨어를 중개하는 중개인 역할을 하는 시스템이다.

- 사용자들의 시점에서 본 운영체제의 역할

	사용자들의 thinking about OS !

	>운영체제는 어플리케이션을 수행시키고, 사용자들이 컴퓨터 시스템을 사용하기 편리하도록 만드는 시스템이다.

- 컴퓨터시스템의 시점에서 본 운영체제의 역할

	컴퓨터의 thinking about OS !

	> 운영체제는 자원 할당자이다. 그리고, 프로그램들을 컨트롤한다. 즉, 운영체제는 어플리케이션이나 입출력장치의 동작을 컨트롤 한다.
	>
	> _여기서 말하는 __자원__ 이란 뭘까_
	>
	> 자원은 두가지로 분류되는데 __하드웨어 자원__ 과 __소프트웨어 자원__ 으로 나눌 수 있다.
	>
	> 1. 하드웨어 자원 = CPU, 메모리, 입출력 장치
	> 2. 소프트웨어 자원 = 파일들, 소켓 등등
	> 
	> 이 자원들이 관리되어야 하는 이유는 자원은 무한하지 않고 한정되어 있기 때문이다!
	

- 자자! 운영체제가 뭔지를 한줄로 정리해보면?! (출제율↑)

	__어플리케이션과 하드웨어 중간에서 하드웨어 자원(리소스)를 적절하고 효율적으로 관리하는 것!__

- 우리 일상생활에서 어떤 것들을 운영체제라고 할까?

	마이크로소프트의 윈도우, 유닉스, 리눅스, 안드로이드, iOS 등등이 운영체제의 종류이다. 

<br>

## ⚡️ 컴퓨터 시스템 작동 방식
---

- 컴퓨터 시스템의 구성요소 중 하나인 하드웨어는 CPU, 메모리, Disk controller, USB controller, Graphics Adapter 가 하나의 bus로 연결되어 있는 구조이다.

	![운영체네2](https://user-images.githubusercontent.com/31889335/55482565-c47e3c80-565f-11e9-8edf-05174837c389.PNG)

	디스크 컨트롤러는 다시 하드디스크를 연결하고, USB 컨트롤러는 다시 키보드, 마우스, 프린터 등을 연결한다.	

	이때, 컨트롤러는 디바이스(예를 들어, 프린터기)를 구동시키는 프로그램이다.

- _CPU_

	![운영체제3](https://user-images.githubusercontent.com/31889335/55970562-bb721880-5cba-11e9-94c1-99e625a3894f.PNG)

	위 그림은 CPU의 모습을 나타낸 그림이다. CPU는 주로 인텔 같은 CPU 회사 이름이 써있는 경우가 많다.

	각 입출력 디바이스 컨트롤러는 local 버퍼(자기 자신의 버퍼 = 조그만 메모리 공간)를 가지고 있다.

	이 버퍼에 임시로 데이터를 잠깐 저장한다.

	마찬가지로 디스크 컨트롤러도 local 버퍼를 갖는데 디바이스와 디바이스 컨트롤러 버퍼간의 데이터를 주고 받을 때 데이터 임시 저장 공간으로 버퍼를 사용하는 것이다.

	또한, CPU도 디스크 컨트롤러와 마찬가지로 버퍼를 데이터를 주고 받을 때 임시 저장 공간으로 사용하지만 CPU 는 메인 메모리와 디바이스 컨트롤러 버퍼간에 데이터를 주고 받는다.

- _CPU와 입출력 장치들 간의 관계는 독립적이다_

	CPU와 입출력 장치들은 서로 독립적으로 수행될 수 있다. 만약 CPU가 다른 일을 하고 있을 때 입출력 장치는 CPU가 그 일을 다 마칠때까지 기다려야 할까?

	만약 CPU가 필요하지 않은 작업이라면 CPU가 마칠때까지 기다리지 않고 독자적으로 수행될 수 있다.

	디바이스 컨트롤러는 어떤 디바이스의 수행이 종료되었음을 __interrupt(중단)__ 을 발생시켜서 CPU에게 알려준다. 

	예를 들어, 마우스를 관리하는 디바이스 컨트롤러는 마우스 클릭이 한번 끝날 때마다 interrpt를 발생시킨다.

- _interrupt 핸들링_

	만약 디바이스 컨트롤러가 CPU에게 interrupt를 발생시켜서 CPU가 알게되면 CPU는 자신이 하던 일을 멈추고 ISR을 발생시킨다.

	__ISR = Interrupt Service Routine__

	![운영체제4](https://user-images.githubusercontent.com/31889335/55971672-e78e9900-5cbc-11e9-9e65-b8e0e318607a.PNG)

	위 그림에서 민트색으로 표현된 구조를 interrupt vector 테이블이라고 한다.

	이 vector 테이블에는 키보드 interrupt, 마우스 interrupt, 프린트 interrupt, 디스크 interrupt 등 각각의 디바이스에 대한 interrupt 공간이 있다.

	이 테이블에는 각각의 interrupt가 발생하면 어떻게 해야하는지( = interrupt service)가 저장이 되어있다.

	프로그램을 수행하면서 디바이스 컨트롤러에 의해 각각의 interrupt가 발생하면 vector 테이블에서 해당 interrupt 발생 시 정보가 저장되어 있는 칸으로 이동한다. 

	하지만, 이 vector 테이블이 직접 칸에 저장된 서비스대로 수행시키는 것이 아니라 이 서비스는 ISR이 수행시키는 것이다.

	ISR에 의한 서비스 수행이 끝나면 interrupt가 발생되어 중단된 프로그램의 위치로 돌아가 프로그램이 이어서 다시 수행된다.

	_결국, CPU가 뭔가를 수행하고 있어도 interrupt가 발생하면 자신이 하던 일을 멈추고 발생한 interrupt에 해당하는 서비스를 해야한다는 것이다._

	즉, CPU는 사실 엄청 많이 중단되었다가 실행되기를 반복하고 있다. 하지만 CPU가 너무나도 빨라서 중단되지 않는 것으로 보이는 것이다!
	
		


