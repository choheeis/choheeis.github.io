---
layout: post
title:  "합병정렬알고리즘"
date:   2019-05-02 18:34:10 +0700
categories: [algorithm]
---


> 배열의 원소들을 정렬하는 알고리즘 중 합병 정렬 알고리즘에 대해서 알아보장
>
> _참고 자료_
> https://zeddios.tistory.com/38

<br>


## 🔗 합병 정렬 알고리즘
---

- 배열의 원소를 정렬하는 알고리즘 중 하나인 __합병 정렬 알고리즘__ 을 공부했다.

	백준 2751번(수 정렬하기 2) 문제를 풀기 위해 합병 정렬 알고리즘을 사용해야 했다! 

	> 알고리즘 수업시간에 배우긴 했지만 시험을 위해서 암기하면서 공부한 수준이라 문제를 풀기 위해서는 다시 공부할 필요가 있었다..

	<br>

- _합병 정렬 알고리즘이 배열을 정렬하는 방법_

	일단, 합병 정렬 알고리즘은 배열을 분할하기 때문에 분할 정복 알고리즘에 속한다.

	합병 정렬 알고리즘이 동작하는 과정을 바로 알아보자!

	![합병정렬1](https://user-images.githubusercontent.com/31889335/57060023-c08f1a00-6cf2-11e9-9712-ada4eacfda6e.PNG)

	위 그림과 같이 합병 정렬은 일단 정렬되지 않은 처음 배열을 반으로 쪼개는데 배열의 크기가 1이 될 때까지 계속 쪼갠다.

	위 그림의 배열이 크기가 1이 될 때까지 쪼개지면

	![합병정렬2](https://user-images.githubusercontent.com/31889335/57060112-31cecd00-6cf3-11e9-9e40-8f37ee49d77d.PNG)

	이렇게 된다

	합병 정렬 알고리즘은 이렇게 다 쪼개고 난 뒤 다시 두 개씩 거슬러 올라가면서 합치는데 합치는 과정에서 정렬을 하면서 합친다!

	어떻게 정렬을 하면서 합칠까?

	![합병정렬3](https://user-images.githubusercontent.com/31889335/57060377-2d56e400-6cf4-11e9-8818-30192dced08e.PNG)


	위 그림처럼 쪼개진 두 수를 비교해서 작은 수를 앞에 놓는다. 정렬했으면 합친다!

	그럼 이렇게 정렬된 두 배열을 또 비교해서 합치면 4개의 원소가 정렬되어 합쳐진 배열을 얻을 수 있다!

	그런데 비교할 원소가 2개였을 때는 그냥 두 원소의 크기를 비교해서 작은것을 앞에 놓으면 됬지만 비교 원소가 4개일 때는 어떻게 비교해야 할까?

	![합병정렬4](https://user-images.githubusercontent.com/31889335/57061132-cdae0800-6cf6-11e9-9c7f-71596c721a02.PNG)

	일단 위 그림처럼 각 배열의 첫 번째 원소를 크기비교하여 작은 수를 새로운 배열의 첫 번째 원소로 넣는다.

	그 다음은

	![합병정렬5](https://user-images.githubusercontent.com/31889335/57061238-1a91de80-6cf7-11e9-9201-f849bc4dd3ab.PNG)

	이렇게 5와 9를 비교하여 더 작은 수를 새로운 배열의 두 번째 원소로 넣는다!

	![합병정렬6](https://user-images.githubusercontent.com/31889335/57061306-4ca34080-6cf7-11e9-9456-83a3a13d9286.PNG)

	그 다음은 10과 9를 비교하여서 작은 수인 9를 새로운 배열의 세 번째 원소로 넣고, 마지막 남은 10을 마지막 원소로 넣는다!

	![합병정렬7](https://user-images.githubusercontent.com/31889335/57061354-7eb4a280-6cf7-11e9-88a0-ff9f44342d84.PNG)

	그럼 이렇게 4개의 원소가 정렬된 새로운 배열이 얻어진다!!

	그럼 또 다시 4개의 원소를 가지는 정렬된 배열 두 개를 비교해서 새로운 배열(원소 8개)을 만들어야 하는데 이 때도 위와 같은 방법으로 하면 된다.

	여기까지가 합병 정렬 알고리즘이 배열을 정렬하는 방법이다.

	<br>

## ✏️ 합병 정렬 알고리즘을 c언어로 구현하기
---

- 정렬되지 않은 배열 {4, 2, 10, 6, 9, 46, 7, 28} 을 합병 정렬 알고리즘을 이용해서 정렬해보자.

	~~~c
	#include<stdio.h>
	int list[8] = {4,2,10,6,9,46,7,28}; 
	int sort[8];

	//정렬하면서 합치는 함수
	void merge(int arr[], int left, int middle, int right){
		int sortPivot = left, leftPivot = left, rightPivot = middle + 1;
		
		while(leftPivot <= middle && rightPivot <= right){
			if(arr[leftPivot] < arr[rightPivot]){
				sort[sortPivot] = arr[leftPivot];
				leftPivot++;
			}else{
				sort[sortPivot] = arr[rightPivot];
				rightPivot++;
			}
			sortPivot++;
		}
		
		while(leftPivot <= middle){
			sort[sortPivot] = arr[leftPivot];
			sortPivot++;
			leftPivot++;
		}
		
		while(rightPivot <= right){
			sort[sortPivot] = arr[rightPivot];
			sortPivot++;
			rightPivot++;
		}	
		
		for(int i = left ; i <= right ; i++){
			arr[i] = sort[i];
		}
	} 

	//분할하는 함수 
	void split(int list[], int left, int right){
		if(left < right){
			int middle = (left + right) / 2;
			split(list, left, middle);
			split(list, middle+1, right);
			merge(list, left, middle, right);
		}
	}


	//메인 함수  
	int main(){
		
		split(list, 0, 7);
		
		for(int i = 0 ; i < 8 ; i++){
			printf("%d\n", list[i]);
		}
	}
	~~~
